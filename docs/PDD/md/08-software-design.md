# High-Level Software/Firmware Design

The most abstract explanation of the software aspect of the project would be
that a Fysh program is compiled by the custom Fysh compiler and executed on our
hardware. More in depth, the compiler consists of multiple components which
break down the Fysh program so that it can be understood and executed using C++.

The first piece of this compiler is the front end, which is made up of the lexer
(**FyshLexer**), the parser (**FyshParser**), and the **semantic analyzer**. The
lexer takes in Fysh code as input, and turns it into a series of tokens, i.e
tokenizes, which the parser can then interpret. The parser takes a sequence of
tokens from the lexer and produces an AST of the program while checking its
syntax. Next the semantic analyzer traverses the syntax tree generated by the
parser and checks if the program is semantically consistent.

From here we move on to the middle end of the compiler, which includes the
**intermediate representation** and **optimization passes**, which are
considered optional for our implementation. An intermediate representation is
essentially a data structure representing source code, which may then be
subjected to several optimization passes, some for analyzing, some for
transforming, and other additional utility optimizations. Before moving on to
the back end, we note once again that since the middle end is listed as
optional, the compiler may move straight from semantic analysis to the back end.

The back end of the compiler contains the **code generation** aspect of our
compiler, which processes source code into machine code so that it can be
executed by the user.

## Intro to the Fysh Language
*Full Language Specification can be found on [Github](https://github.com/Fysh-Fyve/fysh/blob/main/README.md).*

Introducing Fysh: the latest, greatest splash in the programming ocean! Fysh isn't your garden-variety coding language; oh no, it's the world's most *inclusive* dialect, decipherable by brains both on land and under sea\*. Imagine, if you will, a language so fluid, so versatile, that dolphins could debug your code and octopuses could optimize your algorithms. It's not just a programming language; it's an aquatic revolution!

For centuries, the fishy citizens of our planet's vast waters have been overlooked, their contributions to the tech world as invisible as their thoughts on quantum mechanics. But no longer! Fysh gives these silent swimmers the platform they've always lacked but deeply deserved. At last, a beacon of hope, a symbol of unity across species, a... well, let's be honest, a bit of a wet dream for those who've always believed in inter-species collaboration.

Fysh: because why should humans have all the fun? Let's code a better tomorrow, where salmon suggest improvements to your UI, and jellyfish judiciously refactor your backend. Together, we can create a wave of change, one line of code at a time.

\*Discalmer: Actual comprehension by aquatic lifeforms not yet proven. Any attempts to verify such understanding may result in confused looks from both fish and human onlookers alike.

Here is Steven. They are our icon. Our industry plant. Our fysh. 
```
><steven>
```

Although Steven is a fysh, they are also a symbol. A symbol of hope. A symbol of unity. A symbol of change. A symbol of the future. A symbol of the past. A symbol of the present. A symbol of the ocean. A symbol of the land. A symbol of the air. A symbol of the fire. A symbol of the water. A symbol of the earth. A symbol of the heart. A symbol of the soul. A symbol of the mind. A symbol of the body. A symbol of the spirit. A symbol of the human. A symbol of the animal. A symbol of the plant. A symbol of the rock. A symbol of the star. A symbol of the galaxy. A symbol of the universe. A symbol of fysh.
```
                                    o
                                   $""$o
                                  $"  $$
                                   $$$$
                                   o "$o
                                  o"  "$
             oo"$$$"  oo$"$ooo   o$    "$    ooo"$oo  $$$"o
o o o o    oo"  o"      "o    $$o$"     o o$""  o$      "$  "oo   o o o o
"$o   ""$$$"   $$         $      "   o   ""    o"         $   "o$$"    o$$
  ""o       o  $          $"       $$$$$       o          $  ooo     o""
     "o   $$$$o $o       o$        $$$$$"       $o        " $$$$   o"
      ""o $$$$o  oo o  o$"         $$$$$"        "o o o o"  "$$$  $
        "" "$"     """""            ""$"            """      """ "
         "oooooooooooooooooooooooooooooooooooooooooooooooooooooo$
          "$$$$"$$$$" $$$$$$$"$$$$$$ " "$$$$$"$$$$$$"  $$$""$$$$
           $$$oo$$$$   $$$$$$o$$$$$$o" $$$$$$$$$$$$$$ o$$$$o$$$"
           $"""""""""""""""""""""""""""""""""""""""""""""""""""$
           $"                                                 "$
           $"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$"$
                                  ><steven>

- Art by Babak Habibi
```
Although we love Steven, every fysh has to be terminated at some point. That's why we end every line of fysh with `~`. (This is a tilde, not a dash. It's a fysh thing.)
```
><steven> ~
```

Steven has binary scales. `}` represents 1 and `)` represents 0. Steven is valued at `b101` (5 in decimal)
```fysh
><steven> = ><})}>
```

Steven can muliply with other fysh using the heart symbol `<3`. Steven is now valued at b1010 (10 in decimal)
```fysh
><steven> = ><steven>  <3  ><)})> 
```

Steven can also increment and decrement in value if they have 2 tails and swims right or left respectively. Steven's value increases to `b1011` (11) then back to b1010 (10).
```fysh
>><steven> 
<steven><<
```

Tadpoles also exist in the fysh language. Tadpoles swim towards bigger fysh (they like the danger) and are represented by `o~ or ~o`. (`o~ = >` , `~o = <`). Here we are checking if Steven is bigger than 6. 
```fysh
><steven> o~ ><{{(>
```

In the whirlpool of fysh logic, the while loop, symbolized by `><(((@>`, ensnares conditions within `[ ]` , with `><>` and `<><` encapsulating the iterative heart.
```fysh
><(((@> [ ><steven> o~ ><))}> ]
><>
	<steven><< ~
<><
```

Steven sometimes would like to comment on the state of the world. 
```fysh
><//> Steven's thoughts on the state of the world
```


Factorial example:
```fysh
><number>    ≈ ><})}>   ><//> b101 = 5
><factorial> ≈ ><))}>   ><//> b001 = 1

><//> while number > 1
><(((@> [><number> o~ ><))}>]
><>
	><//> factorial = factorial * number
	><factorial> ≈ ><factorial> ♡ ><number> ~

	><//> number -= 1
	<number><< ~
<><
```